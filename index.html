<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Tosha Express | Book Your Journey</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="icon" type="image/jpeg" href="/IMG-20251017-WA0016.jpg">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x" crossorigin="anonymous">
        <link rel="stylesheet" href="/styles.css"/>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.2/font/bootstrap-icons.css">
    </head>
    <body>

        <!-- Navbar -->
        <nav class="py-3 navbar navbar-expand-lg fixed-top navbar-light bg-light">
            <div class="container">
              <a class="navbar-brand" href="#">
                  <i class="bi bi-bus-front"></i> Tosha Express
              </a>
              <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
              </button>
              <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav ms-auto">
                  <li class="nav-item">
                    <a class="nav-link active" aria-current="page" href="#hero">Home</a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="#routes">Routes</a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="#why-choose">Why Choose Us</a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="#contact">Contact</a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link btn btn-primary text-white ms-2 px-3" href="#booking-form">Book Now</a>
                  </li>
                </ul>            
              </div>
            </div>
          </nav>
          <!-- Navbar End -->

          <!-- Hero section -->
          <section id="hero" class="hero-section">
              <div class="hero-overlay">
                  <div class="container">
                      <div class="row align-items-center">
                          <div class="col-lg-6">
                              <h1 class="hero-title">Travel Comfortably,<br>Arrive Safely</h1>
                              <p class="hero-subtitle">Book your bus tickets online with ease. Comfortable seats, reliable service, affordable prices.</p>
                          </div>
                          <div class="col-lg-6">
                              <div class="booking-card" id="booking-form">
                                  <h3 class="booking-title">Book Your Ticket</h3>
                                  <form id="busBookingForm">
                                      <div class="mb-3">
                                          <label for="fromCity" class="form-label">From</label>
                                          <select class="form-select" id="fromCity" required>
                                              <option value="">Select departure city</option>
                                              <option value="Nairobi">Nairobi</option>
                                              <option value="Nakuru">Nakuru</option>
                                              <option value="Eldoret">Eldoret</option>
                                              <option value="Kakuma">Kakuma</option>
                                              <option value="kitale">kitale</option>
                                              <option value="lokichar">lokichar</option>
                                              <option value="lokichogio">lokichogio</option>
                                              <option value="lodwar">lodwar</option>
                                          </select>
                                      </div>
                                      <div class="mb-3">
                                          <label for="toCity" class="form-label">To</label>
                                          <select class="form-select" id="toCity" required>
                                              <option value="">Select destination city</option>
                                              <option value="Nairobi">Nairobi</option>
                                              <option value="Nakuru">Nakuru</option>
                                              <option value="Eldoret">Eldoret</option>
                                              <option value="Kakuma">Kakuma</option>
                                              <option value="kitale">kitale</option>
                                              <option value="lokichar">lokichar</option>
                                              <option value="lokichogio">lokichogio</option>
                                              <option value="lodwar">lodwar</option>
                                              
                                          </select>
                                      </div>
                                      <div class="mb-3">
                                          <label for="travelDate" class="form-label">Travel Date</label>
                                          <input type="date" class="form-control" id="travelDate" required>
                                      </div>
                                      <div class="mb-3">
                                          <label for="passengers" class="form-label">Number of Passengers</label>
                                          <input type="number" class="form-control" id="passengers" min="1" max="10" value="1" required>
                                      </div>
                                      <button type="submit" class="btn btn-primary w-100 btn-lg">
                                          <i class="bi bi-search"></i> Search Buses
                                      </button>
                                  </form>
                              </div>
                          </div>
                      </div>
                  </div>
              </div>
          </section>
         <!-- Hero section ends here -->

          <!-- Popular Routes Section -->
          <section id="routes" class="routes-section">
              <div class="container">
                  <div class="text-center mb-5">
                      <h2 class="section-title">Popular Routes</h2>
                      <p class="section-subtitle">Choose from our most traveled destinations</p>
                  </div>
                  <div class="row cards">
                      <div class="col-md-4 d-flex justify-content-center mb-4">
                        <div class="card route-card">
                            <img class="card-img-top" src="IMG-20251017-WA0019.jpg" alt="Bus route">
                            <div class="card-body">
                                <h5 class="card-title">Nairobi → kakuma</h5>
                                <p class="card-text"><i class="bi bi-clock"></i> 9 hours | Starting from 3,500ksh</p>
                                <p class="text-muted">Daily departures at 06:30 AM pickup at Kenyatta Bus Station</p>
                                <button class="btn btn-outline-primary w-100" onclick="selectRoute('Nairobi', 'Kakuma')">Select Route</button>
                            </div>
                          </div>
                      </div>
                      <div class="col-md-4 d-flex justify-content-center mb-4">
                        <div class="card route-card">
                            <img class="card-img-top" src="IMG-20251017-WA0018.jpg" alt="Bus route">
                            <div class="card-body">
                                <h5 class="card-title">Nakuru → Kakuma</h5>
                                <p class="card-text"><i class="bi bi-clock"></i> 8 hours | Starting from 3000ksh </p>
                                <p class="text-muted">Daily departures at 05:45 AM, pickup at Nakuru Stage.</p>
                                <button class="btn btn-outline-primary w-100" onclick="selectRoute('Nakuru', 'Kakuma')">Select Route</button>
                            </div>
                          </div>
                      </div>
                      <div class="col-md-4 d-flex justify-content-center mb-4">
                        <div class="card route-card">
                            <img class="card-img-top" src="IMG-20251017-WA0017.jpg" alt="Bus route">
                            <div class="card-body">
                                <h5 class="card-title">Eldoret  → Kakuma</h5>
                                <p class="card-text"><i class="bi bi-clock"></i> 7 hours |Starting from  KSh 2,500</p>
                                <p class="text-muted">Departs Eldoret at 04:30 AM, pickup at Eldoret Bus Park</p>
                                <button class="btn btn-outline-primary w-100" onclick="selectRoute('Eldoret', 'Kakuma')">Select Route</button>
                            </div>
                          </div>
                      </div>
                  </div>
              </div>
          </section>

           <!-- Why Choose Us -->
          <section id="why-choose" class="why-choose-section">
              <div class="container">
                  <div class="row align-items-center">
                      <div class="col-lg-6">
                          <img class="img-fluid rounded shadow" src="IMG-20251017-WA0015.jpg" alt="Comfortable bus interior"/>
                      </div>
                      <div class="col-lg-6">
                          <h2 class="section-title">Why Choose Tosha Express?</h2>
                          <div class="feature-item">
                              <h5><i class="bi bi-check-circle-fill text-primary"></i> Comfortable Seating</h5>
                              <p>Spacious reclining seats with extra legroom for a relaxing journey.</p>
                          </div>
                          <div class="feature-item">
                              <h5><i class="bi bi-check-circle-fill text-primary"></i> Safe & Reliable</h5>
                              <p>Professional drivers, well-maintained buses, and excellent safety records.</p>
                          </div>
                          <div class="feature-item">
                              <h5><i class="bi bi-check-circle-fill text-primary"></i> Affordable Prices</h5>
                              <p>Best rates in the market with no hidden fees. What you see is what you pay.</p>
                          </div>
                          <div class="feature-item">
                              <h5><i class="bi bi-check-circle-fill text-primary"></i> 24/7 Support</h5>
                              <p>Our customer service team is always ready to assist you via WhatsApp.</p>
                          </div>
                    </div>
                  </div>
              </div>
          </section>

          <!-- Contact Section -->
          <section id="contact" class="contact-section">
            <div class="container">
                <div class="row justify-content-center">
                    <div class="col-lg-8 text-center">
                      <h2 class="section-title text-white">Need Help? Contact Us</h2>
                      <p class="text-white mb-4">Our customer support team is available 24/7 on WhatsApp</p>
                      <div class="contact-info mb-4">
<p class="text-white">
    <i class="bi bi-telephone-fill"></i> Call Us: +254752 212 826 <br>
    <i class="bi bi-facebook"></i> <a href="https://facebook.com/groups/759431013762321/" target="_blank" class="text-white text-decoration-none">Facebook Page</a>
</p>
                      </div>
                      <a href="https://wa.me/254752212826?text=Hello%2C%20I%20need%20help%20with%20bus%20booking" 
                         class="btn btn-success btn-lg" 
                         target="_blank">
                          <i class="bi bi-whatsapp"></i> Chat on WhatsApp
                      </a>
                    </div>
                </div>
            </div>
          </section>

          <!-- Modal for Booking Confirmation -->
          <div class="modal fade" id="bookingModal" tabindex="-1" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered modal-lg">
              <div class="modal-content">
                <div class="modal-header">
                  <h5 class="modal-title">Select Your Seats</h5>
                  <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                  <div id="bookingDetails"></div>
                  
                  <div class="seat-selection-area mt-4">
                      <h6 class="text-center mb-3">Choose Your Seats</h6>
                      <div class="seat-legend mb-3">
                          <span class="me-3"><span class="seat-box available"></span> Available</span>
                          <span class="me-3"><span class="seat-box selected"></span> Selected</span>
                          <span><span class="seat-box booked"></span> Booked</span>
                      </div>
                      <div class="bus-layout">
                          <div class="driver-section mb-3">
                              <i class="bi bi-person-circle"></i> Driver
                          </div>
                          <div id="seatMap" class="seat-map"></div>
                      </div>
                      <div class="selected-seats-info mt-3">
                          <p><strong>Selected Seats:</strong> <span id="selectedSeatsList">None</span></p>
                      </div>
                  </div>
                  
                  <p class="mt-3 text-muted">After selecting your seats, complete your booking on WhatsApp for payment and confirmation.</p>
                </div>
                <div class="modal-footer">
                  <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                  <button type="button" class="btn btn-success" id="whatsappBookingBtn" disabled>
                    <i class="bi bi-whatsapp"></i> Complete Booking on WhatsApp
                  </button>
                </div>
              </div>
            </div>
          </div>

          <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-gtEjrD/SeCtmISkJkNUaaKMoLD0//ElJ19smozuHV6z3Iehds+3Ulb9Bn9Plx0x4" crossorigin="anonymous"></script>
          <script>
              const today = new Date().toISOString().split('T')[0];
              document.getElementById('travelDate').setAttribute('min', today);

              let bookingData = {};
              let selectedSeats = [];
              let requiredSeats = 0;

              const bookedSeats = ['A2', 'B3', 'C1', 'D4', 'E2'];

              function generateSeatMap() {
                  const seatMap = document.getElementById('seatMap');
                  seatMap.innerHTML = '';
                  selectedSeats = [];
                  
                  const rows = ['A', 'B', 'C', 'D', 'E', 'F', 'G', 'H'];
                  
                  rows.forEach(row => {
                      const rowDiv = document.createElement('div');
                      rowDiv.className = 'seat-row';
                      
                      for (let i = 1; i <= 4; i++) {
                          const seatNumber = row + i;
                          const seatBtn = document.createElement('button');
                          seatBtn.type = 'button';
                          seatBtn.className = 'seat-btn';
                          seatBtn.textContent = seatNumber;
                          seatBtn.dataset.seat = seatNumber;
                          
                          if (bookedSeats.includes(seatNumber)) {
                              seatBtn.classList.add('booked');
                              seatBtn.disabled = true;
                          } else {
                              seatBtn.classList.add('available');
                              seatBtn.addEventListener('click', toggleSeat);
                          }
                          
                          rowDiv.appendChild(seatBtn);
                          
                          if (i === 2) {
                              const aisle = document.createElement('div');
                              aisle.className = 'aisle';
                              rowDiv.appendChild(aisle);
                          }
                      }
                      
                      seatMap.appendChild(rowDiv);
                  });
                  
                  updateSelectedSeatsDisplay();
              }

              function toggleSeat(e) {
                  const seatBtn = e.target;
                  const seatNumber = seatBtn.dataset.seat;
                  
                  if (seatBtn.classList.contains('selected')) {
                      seatBtn.classList.remove('selected');
                      seatBtn.classList.add('available');
                      selectedSeats = selectedSeats.filter(s => s !== seatNumber);
                  } else {
                      if (selectedSeats.length < requiredSeats) {
                          seatBtn.classList.remove('available');
                          seatBtn.classList.add('selected');
                          selectedSeats.push(seatNumber);
                      } else {
                          alert(`You can only select ${requiredSeats} seat(s) for ${requiredSeats} passenger(s).`);
                      }
                  }
                  
                  updateSelectedSeatsDisplay();
              }

              function updateSelectedSeatsDisplay() {
                  const seatsList = document.getElementById('selectedSeatsList');
                  const whatsappBtn = document.getElementById('whatsappBookingBtn');
                  
                  if (selectedSeats.length > 0) {
                      seatsList.textContent = selectedSeats.join(', ');
                  } else {
                      seatsList.textContent = 'None';
                  }
                  
                  if (selectedSeats.length === requiredSeats) {
                      whatsappBtn.disabled = false;
                  } else {
                      whatsappBtn.disabled = true;
                  }
              }

              document.getElementById('busBookingForm').addEventListener('submit', function(e) {
                  e.preventDefault();
                  
                  const fromCity = document.getElementById('fromCity').value;
                  const toCity = document.getElementById('toCity').value;
                  const travelDate = document.getElementById('travelDate').value;
                  const passengers = document.getElementById('passengers').value;

                  if (fromCity === toCity) {
                      alert('Departure and destination cities cannot be the same!');
                      return;
                  }

                  requiredSeats = parseInt(passengers);
                  bookingData = {
                      from: fromCity,
                      to: toCity,
                      date: travelDate,
                      passengers: passengers
                  };

                  const formattedDate = new Date(travelDate).toLocaleDateString('en-US', { 
                      weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' 
                  });

                  document.getElementById('bookingDetails').innerHTML = `
                      <div class="booking-summary">
                          <h6>Booking Summary:</h6>
                          <p><strong>Route:</strong> ${fromCity} → ${toCity}</p>
                          <p><strong>Date:</strong> ${formattedDate}</p>
                          <p><strong>Passengers:</strong> ${passengers}</p>
                      </div>
                  `;

                  generateSeatMap();
                  const modal = new bootstrap.Modal(document.getElementById('bookingModal'));
                  modal.show();
              });

              document.getElementById('whatsappBookingBtn').addEventListener('click', function() {
                  if (selectedSeats.length !== requiredSeats) {
                      alert(`Please select exactly ${requiredSeats} seat(s) before completing your booking.`);
                      return;
                  }
                  
                  const seatsText = selectedSeats.join(', ');
                  const message = `Hello! I want to book a bus ticket:%0A%0AFrom: ${bookingData.from}%0ATo: ${bookingData.to}%0ADate: ${bookingData.date}%0APassengers: ${bookingData.passengers}%0ASeats: ${seatsText}%0A%0APlease confirm availability and total cost.`;
                  
                  window.open(`https://wa.me/254752212826?text=${message}`, '_blank');
              });

              function selectRoute(from, to) {
                  document.getElementById('fromCity').value = from;
                  document.getElementById('toCity').value = to;
                  
                  document.getElementById('booking-form').scrollIntoView({ 
                      behavior: 'smooth' 
                  });
              }
          </script>
        </body>
</html>
